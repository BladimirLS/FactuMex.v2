using System;
using System.Collections.Generic;
using System.Data;
using System.Linq;
using System.Threading.Tasks;
using CallCenter.Models;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Extensions.Configuration;
using Renomax.Models;

namespace Renomax.Controllers
{
    [Route("apiv1/usuario")]
    [ApiController]
    public class UsuarioController : ControllerBase
    {
        [HttpGet]
        [AuthRequired]
        public DataTable Get()
        {
            string usuario = Request.Query.Where(u => u.Key == "u").SingleOrDefault().Value;
            return new DB(Cns.Renomax, "CargaUsuarios", new List<object> { usuario }.ToArray())
                .RetornaDTxP();
        }
        [HttpPost]
        [AuthRequired]
        public int Post(Usuario u)
        {
            string b64 = "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E2AbBR5n8NE23IsPIpov6N7Ik7LLSgs/rCYe9JsB/ARANB/lKqskxi0XZBk6oWd2AYAeoXwdtc+A6WiCEi0pHc+1DNLDjK1VyhoiLGVfi8FP4mb2EqgS6DE5aEHduIh3DKzstgozoH2ApZkzUzHdBgs5DABUuuELr2wGbomQoJJFLq5sNn/RJE2GDZmyBokiwCCzAd1Tu9toy7Kdx0l8oq7dR8o057EjyWDQgDehw6cF76hDBGkN7DKq2aheEkK8h/1clGK/yIKYAW0Gx8K8+bnu6Jy4ZydzBwhCAro5IAd0wuXH88ATEIX9fEmyCXlIIHV8LUiXWrjvPT3x31DN1buooJ/whhRXWztGyH5maDwhXUqzO7eVdWpzhwibiXeYvClNJLtS7oaj4MALIIl2MoPI32glkhgBighisZrulPek8lnQOiTuabMzYFVGTD6iTvbE6ZrpRURTkk1Nq/6MJH/MOffPWYc0qdhujYno5ANsSBpimXGc0QnEkkm0JFyGjAZlMYhK4e+cZB9T/Asu0UBzeHeyTC/EzkAvQK68se+wytz+zJxqCr9gM5on316YguRdkHFlmTdUy4b1kKwzAIQCp8BehSXsUZALrefwJQxKGnBScSYn69/LDEdaBuUTNgK7w0edkAAaAZLOTTCyZ17NTssEDxdL+EyWgQMsRQMg9RxJ+Ae9+AdSLLIFEIXc213KMidUgv4DZRIAATFKgJ/yaVQ1Ps3AD4FyNF6jJ5/sEyKQt049EBYmBI0XfBG+YrQC8kLT/QoCX/3b+iPENXCweXVAAAKACnwbDFheZs6P8QArUMJX6wNh5KpLcztQqBgPhawxHtbHrXMKb/w8AfaYM422PtZCSQ+Ial3TMOX9AE0sWINu6bSM1j2DpnySd5dNhFL128Jmx3DD4pznMWwRgc0B07oy7zxM2ou+gMHv/wCTf//aAAwDAQACAAMAAAAQ999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999xkEY99999999999999999999H+88399999999999999999999Q888S9999999999999999999Q888689999999999999999489vNy0t9999999999999999yto91+O8M099999999999994kfrfLc488893999999999999W2zw3ppuR888G999999999996g39st9897p88G99999999991o8U99vV997608C2999999999T80N90qc94Vc88x9999999999N8Dmcc9+1Wcj8809999999999sc//ABS/nVveAPPPvfffffffffffff3vLPfdjvPIvfffffffffffffYPPH/KYPPGvPfffffffffffffXvKDEfPOMPPfffffffffffffeH/PPPPAVvffffffffffffffffnPPKTPX/ffffffffffffffffbExDfPffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff/xAAnEQABAwMDBAIDAQAAAAAAAAABABEhEDFBMFFxIEBhkYGxYKHB0f/aAAgBAwEBPxD8agblbMQBkuhEQe18z+ugpg7QRSwiES6OKT2jovHQJhTNx7EAuSBrGgCHlMQiN6GWBZlPYw1zsnj7+MBEkw4ULo+VvHkJrAPCncfRWRJQoPtA65T9+PjdEHc6Mr+CxCfbo2n2EwCDo6CzGQgCwdU2MsCgLBD0v8wU3YRyEGHJzsjnrGE+gIBRleOOhki1B832QmVhhFIKMghxlvdGoeguEaQkVdHnTDBco65PS5wiMSmUM14kftMg7Vt8oaRyjQ4gynZTb+0dPBIxeuIoMXIRYzfk8IvjVaXnTKnEGjBe5DOJYnJU49wrSpyuUBm+yNYMD/UAyZAM141pkAYrOz0rEUYDoM4GyCjrg5lGoHwFpZrwgm6+6j7I5CzVke51vFCNLrxV/I4jXbga7Tuq0ESyi5n9J9E1ITlBjg1+BUazBDQLq7o6D4AQh1wwnDd1WsRup0yexe3RlBTRspYBz57MACj7gEJcSrGgDfjP/8QAKREBAAECAwgCAwEBAAAAAAAAAREAITFBURBhcYGRobHRMMEgQOHwYP/aAAgBAgEBPxD/AJoIjvX0Z+N9GXrxg6Huoki1F+5ozKXB+nR8/qjYW4Gr0d6AEGG3LSScS/6ggzB7eRQ5QEHL8AS4iHP+S/qf6DJ/BQS4UIto73N9f39GbJaBPik4Ud+zFuJKB78zHs37I0Ddn0xodLyPHdu/RbBBisOWruKlmnN29BuoeGDeD5Kj9YPUaz1xHhKQusrIXcl+YUuQ60TYLfJ9NAqg1u8X7UlnzgAnEbhi+h3oRbMAkjzQ0J2HeKcRHF3Huh8XtAezLTwmKArEubqVYyCEYANmDg/ggBoDPjr5o0oxPli2ITUJhTeWZps4YrD7aMG8A91Bzwo+4qOCG6kgOt6cBE4mPBoUYsqCJueLkUMM1uKF459/wMHex4ODybc/kttAxWB7d1GZKhWLPgpsZFtgWDSPmAOa+yEnYnF4ESbNzva1DpwXjJ4etpK6nmXO58c/sxH0b3tUGQYGyPsFnrf72jnxXMjzFOlik6MbeVFxUlaFDosPZ25nV4rE/CXobLpLxb/zZhQBXlUJyKRop+nYNhWMsI9KR4QDme52HpywCryWrBxCLjF3UsZkejL42kzl4Kb/AAlYAECZ2tPBx2FOCWM4RvqXJbhUXg56YUwlWpV6PurdY0LHQg2bzSfK52pCWDFWA3tL8dZMXdoO+wAw+xY4uPQ87RjN32LvePjmNDuq1g+L3VzfiV81PlW5TxUAKAokvlN2g4Dq5e+1YtXATvDTP4ABEghL2uWozAMB5WbsOvHF0NWinsf557Fi7QuWVyZ83tHzIPmDln2oAINlh294PvaE4pyDV/16xArFzX1obRRbV9x7fHzz7ge7Y7TtiXAYOBb+89giL4Lm5Zc+lCYR33urtx/vA03v0Z0hcq6/PMrF9i3mdhZZDHGLd6hmDQu9cPNHTxC7/OUbVjGhlt7kcNXtTB5WK/O0CjByBzz7/lLEuhd56c6nF3Rnxc+x+jbuwy8C/wDPwAkuJv0xqZU9Wx77FSS3Szvi9aVbv6UaRiCBccfBXd4g9+KsvUF+jtVpaNCx2irh/wAy/8QAKxABAAEDAgYBBAMBAQEAAAAAAREAITFBUSBhcYGRoRBAULHBMNHw4YDx/9oACAEBAAE/EP8AyXms+8FTbMid4pkXMQD7X1TYbze+E/mrebgjn1kO8VGTNALqJZPtlnbzHdhdP+BOKtSEFIf/AHCxypldX4ekfG2XihzL5SzrNHVFq+YmiNk0T7VdmPm5Fh1eTubQLmAuku6/44jNOfnBdYgnWX3faZyRJXtwtjQ1YMTSOzyRTKq6rxlr1g56BV/J9oeSJMElPQKR4bit5nLzX+Aq5AgbIB9o2vljP9oJdan+CKgmPzwk92/Z2tOHcc5gfwCp5zpYWfoY3UKL+gtAg778/s+tRVdW2CB3F/gCMKUKwFRwCXYIuPs9t9vtMhfBbiz3iHOKbyyIkImRKfmKisoUw8wqwbtWiH4w5NuG+XIW+yWBEhMbsTDZYnSi1MYWeBmi5C468JKXN5G5hdZtqhu65XNLmOE5ilQ7VFAlFixeqEHercgqAOzd73Ks2NZ23d11en2MApAEq2AKVJdXMA4LdZzq2SeYTqDPrYJzS2hgBuzP3Siz8e0N+KdoUSPh/NdeJPPf9NWKDPpT/NQJyph3R9VHyr/8GHurggECGJbopcubo8IKOQe4/wBvQcIwAuxB83+w68cu0K6bFTnkhQZkGNrW65oISoPKgC8od5ahiX4W+QQ8XRuUA3fKT5ifdTkn7Wj5AI2nFQZqNjJCJFCQZrdzv/qqSLNK2lbp+VoYitKveT3QLXb/AEJyKsKShDeU1A/ASco3Esn15pw4z1ws8MmxmsdHWVuB7FJ3vTiQ+ULykUTSSiikUwL4THqo0L/60D2ow3er9w9VAI2Ut7XqhiX/ANZL2pOrDKgLq6DrVj1955NVzWZBzSSC6li86/ks54oT67CC0AFgADrx5RgcHrBlc4PWmF9onXPedw+sbi0AFlVsBSBCpIGJU2L+hhpsQsslmFzud3SPjJDjaj0kMrPKTSah6+sPwUyo3BCeh91I7NTeYKkkFqs9kPqhSJFCVanKsGs02cjF2EALoFiBbvxj1T/2TZTni1sUNo8cR2dxwjZM0CiBlEWLO1syafVdibIlgnViCh1uYyBysEeJscFKekJZNWL4g0CoGYdEfUKBlHX88aRM8B3Kf8LpVaBu9jvilN9CZ3qhsb7xijv75SE981BanNRfj8Hw3mFCbjml4HYpS7kP8DvjuAWRuYcygymDBJE6j9TJMNyonqwMJEAck9qkFB1k+4UkUmyXZn3UClxAf8dqvGlPVAoO6jEe/wC6jqgyzPQVHjrKCeVeqttBLQKG3UX1XFWjTLfDkbHVd0jFRWMV8mX9O6edOEtYki6BIYe3zMw5j/owe9RxipHBzZSk7H1JECUXZryP7EqK4qDaEg0BOdr8Uhj0bnhqHlOd6ABIjfNTdmbJ5NcwI6T8p6MW5hB2UT04L4fXBD0+alkOrAEIKJMXipQVM5iNTkOjRGvDmrhTk5Ye308QwWEGxuroF3SknBJoDmM2y7q6U5pKhu2DI+aumB+1+3Hu1A6IXrRx2ZUrto62d68Mdk/jSgWxvfPRMholPhPIhOwTyNnnfDxMRB0F+RfpoTnsF0YPVaHdgqfoWGvYmV0IK6fPY77n4E4mjpIijUS8x1MOEfcbnEvnAjsbJUcZauc06p7fHOqmpI+l3tw6UpegeQU/SLIAzQiVe1TiGY9Yu87Y0pzWvzfzwfpP5+PBTpR1/d4atEzXfT1u43G3VaKnsHwM8gu5B7Ky4DFMVr66MvpFDhNsML1Cuhw3mh9z8ADKWSMHeteI7i6fU+opbMI9v7x54lCjABZVbBR6hCvykpzJFx0N03wC3Fl45TSORBdf3XCKcWUT6N+v0rdSjlCE9TWvAfcfalPasDymmCSWgIAGCAhULBV3RI+PkFxSlAkoCDmZ+CzNf5ZQHW8LsHJfi7rm4NUqaNhhKQdMdb2ZD2bpfvgvRoHxYKTHKVxLz5zzaAfn9KlUJzhCnmKx8ilXwWsEEhCyJkqIGqokDmyKUs9TUWRicWN6YmWxOeCh21IHuXPYaO/Hh8oB36KGnWnHMxdebL87waf4rinL86rJsdhZedjdyoNEXn4AMelzkuIcWgAsAFgPnEkLxZ8B3lxRB0F2pDrB2+lZykAA5STYKsTZmHSlUXCzOY/N+dAmq0k9Gjxz0793mVJoPAikgpgkRbrSUFIT3dT6q71a8K5VPtGoBcDJy/gmn7vABZVbAU/mlGtibY9f0Gnc6/FZjdO7u6RWvzIWYG1rd1zyFp2ZzypK+XhBmoGVbAdaIoJbrePJ+mDC2CF6KSdqfNXZfBGo8oJEnuHnmbQIqwgOxB8La5SqrqqKrq0IRIbomJDmTzqVCMN/8GleosqdqhMGYh9onupUvmEe7NIUZg9ei0HVAAYYk5aTawFDJmCy8prBT6+GzEHXHSOZe6Mcob8XdcjBoHBYu0afbRMHODDlLrxPbmTlp/xOz664unpgjHvqYC+E+59KgzTKp+7oPOnPxVl6aDjnQ3rHql2t56Q2lapyHK8J5IKMaSUs7KkbwE0fcYgLABYOHlZHBXKaXYWy2S9Z4CqjGlUwAbrWPYHtathA7uv1sU6Y9m/Suek6EV7eAKAutCp/on8JO3HDkQbgmXR2GmXQpoQJcpdVcq8JGtJlfsYM/g/0+u6lum79ZwlvSAaat1iO9ZvwqBLYKvBlcdJTHgGktxZAq5VbqrlaOEWocmp/RB3wUC9GPIgP+6/XXsznnwT0Dzw4VmXNxdg8KQ+kMybK65BQrqtwFyMLb3WmNPfDF6nkbjBd9jbK2Kgx3GJXluhoWKPrS8K1+ef+MDwGa77s+FPSHt8jVGABNVbBQbRN4NuLeg5tYwNNg2FhyDjnCJEgb1/BlbFWjEHfjgaYBzlfrjM8aj8ZTKXPyUCcnKbudpNRLoGYBYPFIzDSy6DdeQNHAiwg3c/KonCmfExt3ZedTxFH1QPXAPWWNUq8wZL6/XL4MEH2CwTAuTP+OnBinTOSCsiJsijTxHIf25TtFZJBqe6rU3rXibYJJlXABlrDSIpsyMeTqiglPABaAfYb3sD5X6x2/k1rWmN2jAb7nylzSrU9tkmugeku79imSctglfBU3stnSRDsWoJ/jdwF5DOSJ7DWXMrh8v2E5UT4YjgGADB9jsfv1VHGzXemsjhhfYGpcfdMPkkHY6U0uWskd4I+F50AMACAMB9luYs61xwmssWE6oQd6lvuf3eeRTxfhi+eZ7qgAhoV6wX7/aLL37UMo6yd/hFgGadSz/uQHup8q3hDs+yVPC6lOlx6K3mWkm8SHYoHboADoFvtQYyahuh0YpbO4IZlbiu86DIH/jSelAhA49OJ91L/AOTP/9k=";

            try
            {
                if (u.Foto.Length > 45)
                {
                    var conf = new ConfigurationBuilder().AddJsonFile(".\\Config.json").Build();
                    string fName = Guid.NewGuid().ToString() + ".jpg";
                    System.IO.File.WriteAllBytes(conf.GetValue<string>("Img") + fName, Convert.FromBase64String(u.Foto));
                    u.Foto = fName;
                }
            }
            catch (Exception ex)
            {
                var conf = new ConfigurationBuilder().AddJsonFile(".\\Config.json").Build();
                string fName = Guid.NewGuid().ToString() + ".jpg";
                System.IO.File.WriteAllBytes(conf.GetValue<string>("Img") + fName, Convert.FromBase64String(b64));
                u.Foto = fName;   
            }

            return Convert.ToInt32(new DB(Cns.Renomax, "GuardaUsuario", new List<object> { u }.ToArray())
                .EjecutaCmd());
        }
    }
}